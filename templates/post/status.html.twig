{% extends 'base.html.twig' %}

{% block title %}Status des articles{% endblock %}

{% block body %}

<br><br>

<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th>Titre</th>
                <th>Est publi√©</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
            <tr>
                <td>
                    {{ post.title }}
                </td>
                <td>
                    {{ post.isPublished }}
                </td>
                <td>
                    <a href="{{ path('post_show', {'id':post.id, 'slug':post.slug}) }}" class="custom-btn" title="Voir l'article">Voir</a>
                    <a href="{{ path('post_edit', {'id':post.id}) }}" title="modifier l'article" class="custom-btn">Modifier</a>
                    {% if post.isPublished == 0 %}
                    <a href="{{ path('edit_post_status_publish', {'id':post.id, type:'publish'}) }}" class="custom-btn"
                        title="modifier statut de l'article">Publier
                    </a>
                    {% elseif post.isPublished == 1 %}
                    <a href="{{ path('edit_post_status_publish', {'id':post.id, type:'remove'}) }}" class="custom-btn"
                        title="modifier statut de l'article">Retirer
                    </a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

