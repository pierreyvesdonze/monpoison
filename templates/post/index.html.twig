{% extends 'base.html.twig' %}

{% block title %}Partie blog de monpoison.fr{% endblock %}

{% block metadescription %}
<meta name="description"
    content="Divers articles sur la consommation d'alcool, anecdotes, chiffres sur l'alcoolodÃ©pendance">
{% endblock %}

{% block body %}

{# BLOG ANIMATION #}
<svg viewbox="0 0 100 20">
    <defs>
        <linearGradient id="gradient">
            <stop color="#fff" />
        </linearGradient>
        <pattern id="wave" x="0" y="-0.5" width="100%" height="100%" patternUnits="userSpaceOnUse">
            <path id="wavePath" d="M-40 9 Q-30 7 -20 9 T0 9 T20 9 T40 9 T60 9 T80 9 T100 9 T120 9 V20 H-40z"
                mask="url(#mask)" fill="url(#gradient)">
                <animateTransform attributeName="transform" begin="0s" dur="1.5s" type="translate" from="0,0" to="40,0"
                    repeatCount="indefinite" />
            </path>
        </pattern>
    </defs>
    <text text-anchor="middle" x="50" y="15" font-size="17" fill="white" fill-opacity="0">BLOG</text>
    <text text-anchor="middle" x="50" y="15" font-size="17" fill="url(#wave)" fill-opacity="1">BLOG</text>
</svg>

<br>

<form class="search-post">
    <input type="text" placeholder="rechercher">
</form>

<br>

<div class="container">
    {% for post in posts %}
    {% if post.isPublished == 1 %}

    <div class="container-post">
        <h1 class="post-title" data-title="{{ post.title }}">
            {{ post.title }}
        </h1>

        <p>
            {{ post.content|slice(0, 250)|raw }} ...
        </p>

        <a href="{{ path('post_show', {'id': post.id}) }}">Lire plus...</a>
        <br>
        <hr>

        {% if is_granted('ROLE_ADMIN') %}

        <a href="{{ path('post_edit', {'id': post.id}) }}" class="custom-btn" title="modifier l'article">Modifier</a>
        <br>

        <hr>
        {% endif %}
    </div>
    {% endif %}
    {% endfor %}

    {# <div class="paginator">
        {{ knp_pagination_render(posts) }}
    </div> #}
</div>

{% endblock %}